{"ast":null,"code":"var _jsxFileName = \"/home/stavatar/IdeaProject/University/lab2SOA/labsoa/src/components/Table/TableTeams.js\";\nimport React, { Component } from 'react';\nimport { BootstrapTable, TableHeaderColumn } from 'react-bootstrap-table';\nimport InsertButton from 'react-bootstrap-table/lib/toolbar/InsertButton';\nimport DeleteButton from 'react-bootstrap-table/lib/toolbar/DeleteButton';\nimport '../../css/Table.css';\nimport 'react-bootstrap-table/css/react-bootstrap-table.css';\nimport axios from \"axios\";\nimport { onAfterDeleteRow, sendEditCell, addTeam, makeDepressiveTeam, path_server } from \"../../apiNet\";\nimport { withRouter } from \"react-router-dom\";\nimport { path_server2 } from \"../../apiNet\";\nimport 'react-bootstrap-table/dist/react-bootstrap-table.min.css';\nimport qs from 'qs';\nimport { Button, Modal } from \"react-bootstrap\";\nimport NameForm from \"../Forms/CreateForms\";\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport { CNav, CNavItem } from \"@coreui/react\";\nimport ReactPaginate from \"react-paginate\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n;\n\nfunction formatterTeam(cell, row) {\n  if (cell === null) return /*#__PURE__*/_jsxDEV(\"span\", {\n    children: \"-\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 24,\n    columnNumber: 16\n  }, this);\n  debugger;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n      children: [\"Id: \", cell[0].id]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      children: [\"Name: \", cell[0].name]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 26,\n    columnNumber: 12\n  }, this);\n}\n\nclass TableTeams extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.createCustomDeleteButton = onClick => {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"margin\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Name team\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: this.state.nameTeamForDepressive,\n          onChange: this.handleChangeTeamNameForDepressive\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(DeleteButton, {\n          size: \"\",\n          btnText: \"Make depressive team\",\n          className: \"btn-padding-left-top\",\n          onClick: e => {\n            this.setState(({\n              selectedRow\n            }) => ({\n              selectedRow: new Set()\n            }));\n            makeDepressiveTeam(this.state.nameTeamForDepressive);\n          },\n          children: \" makeDepressiveTeam\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 13\n      }, this);\n    };\n\n    debugger;\n    console.log(\"!!!+!+!+!+!+!+!+!+!+!+!+!+!+!+!++!+!!+!+\");\n    this.getAllObject = this.getAllObject.bind(this);\n    this.state = {\n      data: [{\n        id: 0,\n        name: \"\",\n        \"team\": \"-\"\n      }],\n      selectedRow: new Set(),\n      nameTeamForDepressive: '',\n      sizePage: 10,\n      currentPage: 1\n    };\n    this.handleChangeTeamNameForDepressive = this.handleChangeTeamNameForDepressive.bind(this);\n    this.handlePageClick = this.handlePageClick.bind(this);\n    this.handleChangeSizePage = this.handleChangeSizePage.bind(this);\n    this.handleKeyPress = this.handleKeyPress.bind(this);\n  }\n\n  handleChangeTeamNameForDepressive(event) {\n    this.setState({\n      nameTeamForDepressive: event.target.value\n    });\n  }\n\n  handleKeyPress(event) {\n    if (event.key === \"Enter\") {\n      this.getAllObject();\n    }\n\n    event.preventDefault();\n  }\n\n  handleChangeSizePage(event) {\n    this.setState({\n      sizePage: event.target.value,\n      currentPage: 1\n    }, this.getAllObject);\n    event.preventDefault();\n  }\n\n  handlePageClick(data) {\n    let curPage = data.selected + 1;\n    this.setState({\n      currentPage: curPage\n    }, this.getAllObject);\n  }\n\n  componentDidMount() {\n    debugger;\n    this.getAllObject();\n    this.timer = setInterval(() => this.getAllObject(), 100000);\n  }\n\n  render() {\n    const options = {\n      deleteBtn: this.createCustomDeleteButton\n    };\n    const selectRowProp = {\n      sizePerPage: 5\n    };\n    const cellEditProp = {\n      mode: 'dbclick',\n      // 'dbclick' for trigger by double-click\n      blurToSave: true\n    };\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [\" \", /*#__PURE__*/_jsxDEV(BootstrapTable, {\n        data: this.state.data,\n        dataField: \"id\",\n        tdStyle: {\n          whiteSpace: 'normal'\n        },\n        cellEdit: cellEditProp,\n        selectRow: selectRowProp,\n        deleteRow: true,\n        options: options,\n        striped: true,\n        hover: true,\n        containerClass: \"table\",\n        children: [/*#__PURE__*/_jsxDEV(TableHeaderColumn, {\n          isKey: true,\n          dataSort: true,\n          dataField: \"id\",\n          headerAlign: \"left\",\n          width: \"1%\",\n          children: \"ID\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(TableHeaderColumn, {\n          dataField: \"name\",\n          dataSort: true,\n          dataAlign: \"center\",\n          headerAlign: \"center\",\n          width: \"4%\",\n          filter: {\n            type: 'TextFilter'\n          },\n          children: \"Name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(TableHeaderColumn, {\n          dataField: \"team\",\n          dataSort: true,\n          dataAlign: \"center\",\n          headerAlign: \"center\",\n          width: \"2%\",\n          dataFormat: formatterTeam,\n          children: \"Team\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 24\n      }, this), /*#__PURE__*/_jsxDEV(CNav, {\n        className: \"background-nav justify-content-lg-between\",\n        children: [/*#__PURE__*/_jsxDEV(CNavItem, {\n          className: \" \",\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"sizePage\",\n            type: \"number\",\n            onKeyPress: this.handleKeyPress,\n            value: this.state.sizePage,\n            onChange: this.handleChangeSizePage\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 148,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(CNavItem, {\n          className: \" \",\n          children: /*#__PURE__*/_jsxDEV(ReactPaginate, {\n            previousLabel: \"← Previous\",\n            nextLabel: \"Next →\",\n            pageCount: currentPage,\n            onPageChange: this.handlePageClick,\n            containerClassName: \"pagination\",\n            previousLinkClassName: \"pagination__link\",\n            nextLinkClassName: \"pagination__link\",\n            disabledClassName: \"pagination__link--disabled\",\n            activeClassName: \"pagination__link--active\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 151,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 18\n    }, this);\n  }\n\n  getAllObject() {\n    axios.get(path_server2 + \"all\").then(res => {\n      const msg = res.data;\n      debugger;\n\n      if (msg.code === 1) {\n        let k = msg.data;\n        console.log(\"K=====\" + k);\n        this.setState({\n          data: k\n        });\n        debugger;\n      }\n    }).catch(err => {\n      console.log(err);\n    });\n  }\n\n}\n\nexport default _c = withRouter(TableTeams);\n\nvar _c;\n\n$RefreshReg$(_c, \"%default%\");","map":{"version":3,"sources":["/home/stavatar/IdeaProject/University/lab2SOA/labsoa/src/components/Table/TableTeams.js"],"names":["React","Component","BootstrapTable","TableHeaderColumn","InsertButton","DeleteButton","axios","onAfterDeleteRow","sendEditCell","addTeam","makeDepressiveTeam","path_server","withRouter","path_server2","qs","Button","Modal","NameForm","CNav","CNavItem","ReactPaginate","formatterTeam","cell","row","id","name","TableTeams","constructor","props","createCustomDeleteButton","onClick","state","nameTeamForDepressive","handleChangeTeamNameForDepressive","e","setState","selectedRow","Set","console","log","getAllObject","bind","data","sizePage","currentPage","handlePageClick","handleChangeSizePage","handleKeyPress","event","target","value","key","preventDefault","curPage","selected","componentDidMount","timer","setInterval","render","options","deleteBtn","selectRowProp","sizePerPage","cellEditProp","mode","blurToSave","whiteSpace","type","get","then","res","msg","code","k","catch","err"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport {BootstrapTable,\n    TableHeaderColumn} from 'react-bootstrap-table';\nimport InsertButton from 'react-bootstrap-table/lib/toolbar/InsertButton';\nimport DeleteButton from 'react-bootstrap-table/lib/toolbar/DeleteButton';\nimport '../../css/Table.css';\nimport 'react-bootstrap-table/css/react-bootstrap-table.css'\nimport axios from \"axios\";\nimport {onAfterDeleteRow, sendEditCell, addTeam, makeDepressiveTeam, path_server} from \"../../apiNet\"\nimport {withRouter} from \"react-router-dom\";\nimport {path_server2} from \"../../apiNet\";\n\nimport 'react-bootstrap-table/dist/react-bootstrap-table.min.css';\nimport qs from 'qs';\nimport {Button, Modal} from \"react-bootstrap\";\nimport NameForm from \"../Forms/CreateForms\";\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport {CNav, CNavItem} from \"@coreui/react\";\nimport ReactPaginate from \"react-paginate\";\n\n;\nfunction formatterTeam(cell, row) {\n    if (cell===null)\n        return <span>-</span>\n    debugger;\n    return <div>\n        <span>Id: {cell[0].id}</span>\n        <br/>\n        <span>Name: {cell[0].name}</span>\n    </div>\n}\nclass TableTeams extends React.Component{\n    constructor(props) {\n        super(props);\n        debugger;\n        console.log(\"!!!+!+!+!+!+!+!+!+!+!+!+!+!+!+!++!+!!+!+\");\n\n        this.getAllObject=this.getAllObject.bind(this);\n\n        this.state = { data:[{id:0,name:\"\",\"team\":\"-\"}],\n                       selectedRow:new Set(),\n                       nameTeamForDepressive:'',\n                        sizePage:10,\n                        currentPage:1,\n        };\n\n        this.handleChangeTeamNameForDepressive=this.handleChangeTeamNameForDepressive.bind(this);\n        this.handlePageClick=this.handlePageClick.bind(this);\n        this.handleChangeSizePage=this.handleChangeSizePage.bind(this);\n        this.handleKeyPress=this.handleKeyPress.bind(this);\n    }\n\n    handleChangeTeamNameForDepressive(event){\n        this.setState({nameTeamForDepressive: event.target.value});\n\n    }\n    createCustomDeleteButton = (onClick) => {\n        return (\n            <div className=\"margin\">\n                <label >Name team</label>\n                <input  type=\"text\" value={this.state.nameTeamForDepressive} onChange={this.handleChangeTeamNameForDepressive} />\n                <DeleteButton\n                    size=\"\"\n                    btnText='Make depressive team'\n                    className=\"btn-padding-left-top\"\n                    onClick={ e => {   this.setState(({selectedRow}) => ({selectedRow: new Set()}));\n                        makeDepressiveTeam(this.state.nameTeamForDepressive\n                        ) }}> makeDepressiveTeam</DeleteButton>\n                <br/>\n                <br/>\n            </div>\n        )};\n    handleKeyPress(event){\n        if (event.key === \"Enter\") {\n            this.getAllObject();\n        }\n        event.preventDefault();\n    }\n    handleChangeSizePage(event){\n        this.setState({sizePage: event.target.value,currentPage:1 },this.getAllObject);\n        event.preventDefault();\n    }\n    handlePageClick (data){\n        let curPage=data.selected+1;\n        this.setState({currentPage:curPage },this.getAllObject);\n    }\n    componentDidMount() {\n        debugger;\n        this.getAllObject();\n        this.timer = setInterval(() => this.getAllObject(), 100000);\n    }\n    render() {\n        const options = {\n\n            deleteBtn: this.createCustomDeleteButton,\n        };\n        const selectRowProp = {\n            sizePerPage: 5,\n        };\n        const cellEditProp = {\n            mode: 'dbclick', // 'dbclick' for trigger by double-click\n            blurToSave: true\n        }\n\n        return ( <div> <BootstrapTable\n            data={this.state.data}\n            dataField='id'\n            tdStyle={ { whiteSpace: 'normal' } }\n            cellEdit={cellEditProp}\n            selectRow={ selectRowProp }\n            deleteRow={ true }\n            options={ options }\n            striped\n            hover\n            containerClass='table'\n        >\n            <TableHeaderColumn isKey\n                               dataSort\n                               dataField='id'\n                               headerAlign=\"left\"\n                               width=\"1%\"\n            >\n                ID\n            </TableHeaderColumn>\n\n            <TableHeaderColumn dataField='name'\n                               dataSort\n                               dataAlign='center'\n                               headerAlign=\"center\"\n                               width=\"4%\"\n                               filter={ { type: 'TextFilter' } }\n            >\n                Name\n            </TableHeaderColumn>\n\n                <TableHeaderColumn dataField='team'\n                                   dataSort\n                                   dataAlign='center'\n                                   headerAlign=\"center\"\n                                   width=\"2%\"\n                                   dataFormat={formatterTeam}\n                >\n                    Team\n                </TableHeaderColumn>\n        </BootstrapTable>\n        <CNav className=\"background-nav justify-content-lg-between\">\n            <CNavItem className=\" \">\n                <input  name=\"sizePage\" type=\"number\" onKeyPress={this.handleKeyPress}   value={this.state.sizePage} onChange={this.handleChangeSizePage} />\n            </CNavItem>\n            <CNavItem className=\" \">\n                <ReactPaginate\n                    previousLabel={\"← Previous\"}\n                    nextLabel={\"Next →\"}\n                    pageCount={currentPage}\n                    onPageChange={this.handlePageClick}\n                    containerClassName={\"pagination\"}\n                    previousLinkClassName={\"pagination__link\"}\n                    nextLinkClassName={\"pagination__link\"}\n                    disabledClassName={\"pagination__link--disabled\"}\n                    activeClassName={\"pagination__link--active\"}\n                />\n            </CNavItem>\n        </CNav>\n            </div>\n        )\n    }\n\n    getAllObject() {\n        axios.get(path_server2+\"all\")\n            .then(res => {\n                const msg = res.data;\n                debugger;\n                if(msg.code ===1){\n                    let k=msg.data;\n                    console.log(\"K=====\"+ k)\n                    this.setState({data: k});\n                    debugger;\n                }\n            }).catch(err => {\n                console.log(err);\n        });\n    }\n\n\n}\n\nexport default withRouter(TableTeams);"]},"metadata":{},"sourceType":"module"}