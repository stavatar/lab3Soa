{"ast":null,"code":"var _jsxFileName = \"/home/stavatar/IdeaProject/University/lab2SOA/labsoa/src/components/Table/Table.js\";\nimport React, { Component } from 'react';\nimport { BootstrapTable, TableHeaderColumn } from 'react-bootstrap-table';\nimport InsertButton from 'react-bootstrap-table/lib/toolbar/InsertButton';\nimport DeleteButton from 'react-bootstrap-table/lib/toolbar/DeleteButton';\nimport '../../css/Table.css';\nimport 'react-bootstrap-table/css/react-bootstrap-table.css';\nimport axios from \"axios\";\nimport { onAfterDeleteRow, sendEditCell, addTeam, makeDepressiveTeam } from \"../../apiNet\";\nimport { withRouter } from \"react-router-dom\";\nimport { path_server } from \"../../apiNet\";\nimport { CNav, CNavItem } from \"@coreui/react\";\nimport ReactPaginate from 'react-paginate';\nimport { mood, weaponType, bool_val } from \"../../const\";\nimport 'react-bootstrap-table/dist/react-bootstrap-table.min.css';\nimport qs from 'qs';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction formatterCar(cell, row) {\n  return cell.cool;\n}\n\nfunction formatterTeam(cell, row) {\n  debugger;\n  if (cell === null) return /*#__PURE__*/_jsxDEV(\"span\", {\n    children: \"-\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 25,\n    columnNumber: 16\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n      children: [\"Id: \", cell.id]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 18\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      children: [\"Name: \", cell.name]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 18\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 26,\n    columnNumber: 12\n  }, this);\n}\n\nfunction formatterX(cell, row) {\n  debugger;\n  if (row.coordinates === null || row.coordinates.x === null) return /*#__PURE__*/_jsxDEV(\"span\", {\n    children: \"0\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 35,\n    columnNumber: 16\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"span\", {\n    children: row.coordinates.x\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 37,\n    columnNumber: 12\n  }, this);\n}\n\nfunction formatterY(cell, row) {\n  debugger;\n  if (row.coordinates === null || row.coordinates.y == null) return /*#__PURE__*/_jsxDEV(\"span\", {\n    children: \"0\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 16\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"span\", {\n    children: row.coordinates.y\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 12\n  }, this);\n}\n\nclass Table extends Component {\n  constructor(props) {\n    super(props);\n\n    this.createCustomInsertButton = () => {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Name team\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 111,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: this.state.nameTeam,\n            onChange: this.handleChangeTeamName\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(InsertButton, {\n            className: \"btn-padding-left-top\",\n            value: \"Add Command\",\n            size: \"\",\n            onClick: () => {\n              debugger;\n              this.setState(({\n                selectedRow\n              }) => ({\n                selectedRow: new Set()\n              }));\n              addTeam(this.state.selectedRow, this.state.nameTeam);\n            },\n            children: \"Create  team with selected human\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(InsertButton, {\n          className: \"btn-padding-left-top\",\n          value: \"Create human\",\n          size: \"\",\n          onClick: () => {\n            this.setState(({\n              selectedRow\n            }) => ({\n              selectedRow: new Set()\n            }));\n            this.props.history.push(\"/add\");\n          },\n          children: \"Create  human\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 13\n      }, this);\n    };\n\n    this.createCustomDeleteButton = onClick => {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"margin\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Name team\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: this.state.nameTeamForDepressive,\n          onChange: this.handleChangeTeamNameForDepressive\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(DeleteButton, {\n          size: \"\",\n          btnText: \"Make depressive team\",\n          className: \"btn-padding-left-top\",\n          onClick: e => {\n            this.setState(({\n              selectedRow\n            }) => ({\n              selectedRow: new Set()\n            }));\n            makeDepressiveTeam(this.state.nameTeamForDepressive);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(DeleteButton, {\n          size: \"\",\n          btnText: \"Delete selected human\",\n          className: \"btn-padding-left-top\",\n          onClick: e => {\n            this.setState(({\n              selectedRow\n            }) => ({\n              selectedRow: new Set()\n            }));\n            onClick();\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 13\n      }, this);\n    };\n\n    this.onSortChange = (sortName, sortOrder) => {\n      debugger;\n      let sortFlag = sortOrder === \"asc\";\n      this.setState({\n        sort: {\n          nameField: sortName,\n          isAscending: sortFlag\n        }\n      }, this.getAllObject);\n      debugger;\n    };\n\n    axios.defaults.validateStatus = () => {\n      return true;\n    };\n\n    this.handlePageClick = this.handlePageClick.bind(this);\n    this.handleChangeSizePage = this.handleChangeSizePage.bind(this);\n    this.handleKeyPress = this.handleKeyPress.bind(this);\n    this.getAllObject = this.getAllObject.bind(this);\n    this.onFilterChange = this.onFilterChange.bind(this);\n    this.onSortChange = this.onSortChange.bind(this);\n    this.onRowSelect = this.onRowSelect.bind(this);\n    this.handleChangeTeamName = this.handleChangeTeamName.bind(this);\n    this.handleChangeTeamNameForDepressive = this.handleChangeTeamNameForDepressive.bind(this);\n    this.state = {\n      data: [],\n      sizePage: 10,\n      allSizeList: 1,\n      currentPage: 1,\n      sort: {\n        nameField: 'id',\n        isAscending: true\n      },\n      filter: [],\n      selectedRow: new Set(),\n      nameTeam: '',\n      nameTeamForDepressive: ''\n    };\n  }\n\n  handleChangeTeamName(event) {\n    this.setState({\n      nameTeam: event.target.value\n    });\n  }\n\n  handleChangeTeamNameForDepressive(event) {\n    this.setState({\n      nameTeamForDepressive: event.target.value\n    });\n  }\n\n  componentDidMount() {\n    this.getAllObject();\n    this.timer = setInterval(() => this.getAllObject(), 100000);\n  }\n\n  componentWillUnmount() {\n    this.timer = null;\n  }\n\n  beforeClose(e) {}\n\n  handlePageClick(data) {\n    debugger;\n    let curPage = data.selected + 1;\n    this.setState({\n      currentPage: curPage\n    }, this.getAllObject);\n  }\n\n  handleChangeSizePage(event) {\n    debugger;\n    this.setState({\n      sizePage: event.target.value,\n      currentPage: 1\n    }, this.getAllObject);\n    event.preventDefault();\n  }\n\n  handleKeyPress(event) {\n    debugger;\n\n    if (event.key === \"Enter\") {\n      this.getAllObject();\n    }\n\n    event.preventDefault();\n  }\n\n  onFilterChange(filterObj) {\n    let arr = [];\n    let filterValue;\n\n    for (const key in filterObj) {\n      let current = {\n        nameField: '',\n        action: '',\n        value: ''\n      };\n      current.nameField = key;\n\n      switch (filterObj[key].type) {\n        case 'DateFilter':\n          {\n            debugger;\n            let filterValue = filterObj[key].value.date;\n            current.value = filterValue;\n            let comparator = filterObj[key].value.comparator;\n            current.action = comparator;\n            debugger;\n            break;\n          }\n\n        case 'NumberFilter':\n          {\n            debugger;\n            let filterValue = filterObj[key].value.number;\n            current.value = filterValue;\n            let comparator = filterObj[key].value.comparator;\n            current.action = comparator;\n            debugger;\n            break;\n          }\n\n        default:\n          {\n            filterValue = filterObj[key].value;\n            current.value = filterValue;\n            debugger;\n            break;\n          }\n      }\n\n      arr.push(current);\n      debugger;\n    }\n\n    this.setState({\n      filter: arr\n    }, this.getAllObject);\n  }\n\n  onAfterSaveCell(row, cellName, cellValue) {\n    debugger;\n    sendEditCell(row, cellName, cellValue);\n  }\n\n  remote(remoteObj) {\n    remoteObj.sort = true;\n    remoteObj.filter = true;\n    return remoteObj;\n  }\n\n  onRowSelect(row, isSelected, e) {\n    debugger;\n\n    if (isSelected) {\n      this.setState(({\n        selectedRow\n      }) => ({\n        selectedRow: new Set(selectedRow).add(row)\n      }));\n    } else {\n      if (this.state.selectedRow.size <= 1) {\n        this.setState(({\n          selectedRow\n        }) => ({\n          selectedRow: new Set()\n        }));\n      } else {\n        new Set(this.state.selectedRow).delete(row);\n        this.setState(({\n          selectedRow\n        }) => ({\n          selectedRow: new Set(this.state.selectedRow)\n        }));\n      }\n    }\n  }\n\n  render() {\n    const options = {\n      hideSizePerPage: true,\n      sizePerPage: 5,\n      deleteBtn: this.createCustomDeleteButton,\n      insertBtn: this.createCustomInsertButton,\n      onSortChange: this.onSortChange,\n      onFilterChange: this.onFilterChange,\n      afterDeleteRow: onAfterDeleteRow // A hook for after insert rows\n\n    };\n    const selectRowProp = {\n      mode: 'checkbox',\n      columnWidth: '2%',\n      onSelect: this.onRowSelect\n    };\n    const cellEditProp = {\n      mode: 'dbclick',\n      // 'dbclick' for trigger by double-click\n      afterSaveCell: sendEditCell,\n      blurToSave: true\n    };\n    const currentPage = Math.ceil(this.state.allSizeList / this.state.sizePage);\n    debugger;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(BootstrapTable, {\n        remote: true,\n        data: this.state.data,\n        dataField: \"id\",\n        tdStyle: {\n          whiteSpace: 'normal'\n        },\n        insertRow: true,\n        cellEdit: cellEditProp,\n        selectRow: selectRowProp,\n        deleteRow: true,\n        options: options,\n        striped: true,\n        hover: true,\n        containerClass: \"table\",\n        children: [/*#__PURE__*/_jsxDEV(TableHeaderColumn, {\n          isKey: true,\n          dataSort: true,\n          dataField: \"id\",\n          headerAlign: \"left\",\n          width: \"1%\",\n          children: \"ID\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 281,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(TableHeaderColumn, {\n          dataField: \"name\",\n          dataSort: true,\n          dataAlign: \"center\",\n          headerAlign: \"center\",\n          width: \"4%\",\n          filter: {\n            type: 'TextFilter'\n          },\n          children: \"Name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 290,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(TableHeaderColumn, {\n          dataField: \"impactSpeed\",\n          dataSort: true,\n          filter: {\n            type: 'NumberFilter'\n          },\n          dataAlign: \"center\",\n          headerAlign: \"center\",\n          width: \"5%\",\n          editable: {\n            type: 'number'\n          },\n          children: \"impactSpeed\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 299,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(TableHeaderColumn, {\n          dataField: \"weaponType\",\n          dataSort: true,\n          dataAlign: \"center\",\n          headerAlign: \"center\",\n          width: \"5%\",\n          filter: {\n            type: 'SelectFilter',\n            options: weaponType\n          },\n          editable: {\n            type: 'select',\n            options: {\n              values: weaponType\n            }\n          },\n          children: \"weaponType\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 309,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(TableHeaderColumn, {\n          dataField: \"mood\",\n          dataAlign: \"center\",\n          headerAlign: \"center\",\n          width: \"5%\",\n          dataSort: true,\n          filter: {\n            type: 'SelectFilter',\n            options: mood\n          },\n          editable: {\n            type: 'select',\n            options: {\n              values: mood\n            }\n          },\n          children: \"moodType\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 318,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(TableHeaderColumn, {\n          dataField: \"X\",\n          dataAlign: \"center\",\n          headerAlign: \"center\",\n          width: \"5%\",\n          dataSort: true,\n          dataFormat: formatterX,\n          filter: {\n            type: 'NumberFilter'\n          },\n          editable: {\n            type: 'number'\n          },\n          children: \"x\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 327,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(TableHeaderColumn, {\n          dataField: \"Y\",\n          dataAlign: \"center\",\n          dataSort: true,\n          headerAlign: \"center\",\n          width: \"5%\",\n          dataFormat: formatterY,\n          filter: {\n            type: 'NumberFilter'\n          },\n          editable: {\n            type: 'number',\n            options: {\n              min: '0',\n              max: '369'\n            }\n          },\n          children: \"y\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 337,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(TableHeaderColumn, {\n          dataField: \"creationDate\",\n          dataAlign: \"center\",\n          dataSort: true,\n          headerAlign: \"center\",\n          width: \"7%\",\n          filter: {\n            type: 'DateFilter'\n          },\n          editable: {\n            type: 'date'\n          },\n          children: \"date\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 347,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(TableHeaderColumn, {\n          dataField: \"realHero\",\n          dataSort: true,\n          dataAlign: \"center\",\n          headerAlign: \"center\",\n          width: \"2%\",\n          filter: {\n            type: 'SelectFilter',\n            options: bool_val\n          },\n          editable: {\n            type: 'checkbox'\n          },\n          children: \"R\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 358,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(TableHeaderColumn, {\n          dataField: \"car\",\n          dataSort: true,\n          dataAlign: \"center\",\n          headerAlign: \"center\",\n          width: \"2%\",\n          dataFormat: formatterCar,\n          filter: {\n            type: 'SelectFilter',\n            options: bool_val\n          },\n          editable: {\n            type: 'checkbox'\n          },\n          children: \"C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 367,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(TableHeaderColumn, {\n          dataField: \"team\",\n          dataSort: true,\n          dataAlign: \"center\",\n          headerAlign: \"center\",\n          width: \"2%\",\n          dataFormat: formatterTeam,\n          children: \"Team\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 377,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 267,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(CNav, {\n        className: \"background-nav justify-content-lg-between\",\n        children: [/*#__PURE__*/_jsxDEV(CNavItem, {\n          className: \" \",\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"sizePage\",\n            type: \"number\",\n            onKeyPress: this.handleKeyPress,\n            value: this.state.sizePage,\n            onChange: this.handleChangeSizePage\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 391,\n            columnNumber: 33\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 390,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(CNavItem, {\n          className: \" \",\n          children: /*#__PURE__*/_jsxDEV(ReactPaginate, {\n            previousLabel: \"← Previous\",\n            nextLabel: \"Next →\",\n            pageCount: currentPage,\n            onPageChange: this.handlePageClick,\n            containerClassName: \"pagination\",\n            previousLinkClassName: \"pagination__link\",\n            nextLinkClassName: \"pagination__link\",\n            disabledClassName: \"pagination__link--disabled\",\n            activeClassName: \"pagination__link--active\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 394,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 393,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 389,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 266,\n      columnNumber: 17\n    }, this);\n  }\n\n  getAllObject() {\n    debugger;\n    let arr_filt = JSON.stringify(this.state.filter);\n    if (arr_filt === '[]') if (arr_filt === '[]') arr_filt = null;\n    debugger;\n    axios.get(path_server + \"humanBeings\", {\n      params: {\n        sizePage: this.state.sizePage,\n        numberPage: this.state.currentPage,\n        sortField: this.state.sort.nameField,\n        isAsc: this.state.sort.isAscending,\n        filters: arr_filt\n      },\n      paramsSerializer: params => {\n        return qs.stringify(params);\n      }\n    }).then(res => {\n      debugger;\n      const msg = res.data;\n\n      if (msg.code === 1) {\n        let k = msg.data;\n        this.setState({\n          data: k,\n          allSizeList: msg.allSizeList\n        });\n      }\n    }).catch(err => {\n      // what now?\n      debugger;\n      console.log(err);\n    });\n  }\n\n}\n\nexport default _c = withRouter(Table);\n\nvar _c;\n\n$RefreshReg$(_c, \"%default%\");","map":{"version":3,"sources":["/home/stavatar/IdeaProject/University/lab2SOA/labsoa/src/components/Table/Table.js"],"names":["React","Component","BootstrapTable","TableHeaderColumn","InsertButton","DeleteButton","axios","onAfterDeleteRow","sendEditCell","addTeam","makeDepressiveTeam","withRouter","path_server","CNav","CNavItem","ReactPaginate","mood","weaponType","bool_val","qs","formatterCar","cell","row","cool","formatterTeam","id","name","formatterX","coordinates","x","formatterY","y","Table","constructor","props","createCustomInsertButton","state","nameTeam","handleChangeTeamName","setState","selectedRow","Set","history","push","createCustomDeleteButton","onClick","nameTeamForDepressive","handleChangeTeamNameForDepressive","e","onSortChange","sortName","sortOrder","sortFlag","sort","nameField","isAscending","getAllObject","defaults","validateStatus","handlePageClick","bind","handleChangeSizePage","handleKeyPress","onFilterChange","onRowSelect","data","sizePage","allSizeList","currentPage","filter","event","target","value","componentDidMount","timer","setInterval","componentWillUnmount","beforeClose","curPage","selected","preventDefault","key","filterObj","arr","filterValue","current","action","type","date","comparator","number","onAfterSaveCell","cellName","cellValue","remote","remoteObj","isSelected","add","size","delete","render","options","hideSizePerPage","sizePerPage","deleteBtn","insertBtn","afterDeleteRow","selectRowProp","mode","columnWidth","onSelect","cellEditProp","afterSaveCell","blurToSave","Math","ceil","whiteSpace","values","min","max","arr_filt","JSON","stringify","get","params","numberPage","sortField","isAsc","filters","paramsSerializer","then","res","msg","code","k","catch","err","console","log"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport {BootstrapTable,\n    TableHeaderColumn} from 'react-bootstrap-table';\nimport InsertButton from 'react-bootstrap-table/lib/toolbar/InsertButton';\nimport DeleteButton from 'react-bootstrap-table/lib/toolbar/DeleteButton';\nimport '../../css/Table.css';\nimport 'react-bootstrap-table/css/react-bootstrap-table.css'\nimport axios from \"axios\";\nimport {onAfterDeleteRow,sendEditCell,addTeam,makeDepressiveTeam} from \"../../apiNet\"\nimport {withRouter} from \"react-router-dom\";\nimport {path_server} from \"../../apiNet\";\nimport {CNav, CNavItem} from \"@coreui/react\";\nimport ReactPaginate from 'react-paginate';\nimport {mood,weaponType,bool_val} from \"../../const\";\nimport 'react-bootstrap-table/dist/react-bootstrap-table.min.css';\nimport qs from 'qs';\n\n\nfunction formatterCar(cell, row) {\n    return cell.cool;\n}\nfunction formatterTeam(cell, row) {\n    debugger;\n    if (cell===null)\n        return <span>-</span>\n    return <div>\n                 <span>Id: {cell.id}</span>\n                <br/>\n                 <span>Name: {cell.name}</span>\n            </div>\n}\nfunction formatterX(cell, row) {\n    debugger;\n    if (row.coordinates===null || row.coordinates.x===null)\n        return <span>0</span>\n\n    return <span>{row.coordinates.x}</span>\n}\nfunction formatterY(cell, row) {\n    debugger;\n    if (row.coordinates===null || row.coordinates.y==null)\n        return <span>0</span>\n    return <span>{row.coordinates.y}</span>\n}\nclass Table extends Component {\n    constructor(props) {\n        super(props);\n        axios.defaults.validateStatus = () => {\n            return true;\n        };\n        this.handlePageClick=this.handlePageClick.bind(this);\n        this.handleChangeSizePage=this.handleChangeSizePage.bind(this);\n        this.handleKeyPress=this.handleKeyPress.bind(this);\n        this.getAllObject=this.getAllObject.bind(this);\n        this.onFilterChange=this.onFilterChange.bind(this);\n        this.onSortChange=this.onSortChange.bind(this);\n        this.onRowSelect=this.onRowSelect.bind(this);\n        this.handleChangeTeamName=this.handleChangeTeamName.bind(this);\n        this.handleChangeTeamNameForDepressive=this.handleChangeTeamNameForDepressive.bind(this);\n\n        this.state = {data:[],\n                      sizePage:10,\n                      allSizeList:1,\n                      currentPage:1,\n                      sort:{nameField:'id',isAscending:true},\n                      filter:[],\n                      selectedRow:new Set(),\n                      nameTeam:'',\n                      nameTeamForDepressive:'' } ;\n    }\n    handleChangeTeamName(event){\n        this.setState({nameTeam: event.target.value});\n\n    }\n    handleChangeTeamNameForDepressive(event){\n        this.setState({nameTeamForDepressive: event.target.value});\n\n    }\n    componentDidMount() {\n        this.getAllObject();\n        this.timer = setInterval(() => this.getAllObject(), 100000);\n\n    }\n    componentWillUnmount() {\n        this.timer = null;\n    }beforeClose(e) {}\n\n\n    handlePageClick (data){\n        debugger;\n        let curPage=data.selected+1;\n        this.setState({currentPage:curPage },this.getAllObject);\n    }\n    handleChangeSizePage(event){\n        debugger;\n        this.setState({sizePage: event.target.value,currentPage:1 },this.getAllObject);\n        event.preventDefault();\n    }\n    handleKeyPress(event){\n        debugger;\n        if (event.key === \"Enter\") {\n            this.getAllObject();\n        }\n        event.preventDefault();\n    }\n    createCustomInsertButton = () => {\n        return (\n            <div className=\"\">\n\n                <div className=\"\">\n                    <label >Name team</label>\n                    <input  type=\"text\" value={this.state.nameTeam} onChange={this.handleChangeTeamName} />\n\n                <InsertButton\n                    className=\"btn-padding-left-top\"\n                    value='Add Command'\n                    size=\"\"\n                    onClick={ () => {\n                                        debugger;\n                                        this.setState(({selectedRow}) => ({selectedRow: new Set()}));\n                                        addTeam(this.state.selectedRow,this.state.nameTeam)\n                                    }\n                            }>Create  team with selected human</InsertButton>\n                </div>\n                <br/>\n\n                <InsertButton\n                    className=\"btn-padding-left-top\"\n                    value='Create human'\n                    size=\"\"\n                    onClick={ () => {\n                                        this.setState(({selectedRow}) => ({selectedRow: new Set()}));\n                                        this.props.history.push(\"/add\")\n                                    }\n                            }>Create  human</InsertButton>\n            </div>\n        );\n    }\n    createCustomDeleteButton = (onClick) => {\n        return (\n            <div className=\"margin\">\n                <label >Name team</label>\n                <input  type=\"text\" value={this.state.nameTeamForDepressive} onChange={this.handleChangeTeamNameForDepressive} />\n                <DeleteButton\n                    size=\"\"\n                    btnText='Make depressive team'\n                    className=\"btn-padding-left-top\"\n                    onClick={ e => {   this.setState(({selectedRow}) => ({selectedRow: new Set()}));\n                        makeDepressiveTeam(this.state.nameTeamForDepressive\n                    ) }}/>\n                <br/>\n                <br/>\n                <DeleteButton\n                    size=\"\"\n                    btnText='Delete selected human'\n                    className=\"btn-padding-left-top\"\n                    onClick={ e => {\n                                        this.setState(({selectedRow}) => ({selectedRow: new Set()}));\n                                        onClick();\n                                    }\n                            }/>\n            </div>\n     )};\n\n    onSortChange = (sortName, sortOrder) => {\n        debugger;\n        let sortFlag = sortOrder===\"asc\";\n        this.setState({sort:{nameField:sortName,isAscending:sortFlag}},this.getAllObject);\n        debugger;\n    }\n\n    onFilterChange(filterObj) {\n        let arr=[];\n        let filterValue;\n        for (const key in filterObj) {\n            let current={nameField:'',action:'',value:''}\n            current.nameField=key;\n            switch (filterObj[key].type) {\n                case 'DateFilter':{\n                    debugger;\n                    let filterValue = filterObj[key].value.date;\n                    current.value=filterValue;\n                    let comparator = filterObj[key].value.comparator;\n                    current.action=comparator;\n                    debugger;\n                    break;\n                }\n                case 'NumberFilter': {\n                    debugger;\n                    let filterValue = filterObj[key].value.number;\n                    current.value=filterValue;\n                    let comparator = filterObj[key].value.comparator;\n                    current.action=comparator;\n                    debugger;\n                    break;\n                }\n                default: {\n                    filterValue = filterObj[key].value;\n                    current.value=filterValue;\n                    debugger;\n                    break;\n                }\n            }\n            arr.push(current);\n            debugger;\n        }\n        this.setState({filter:arr},this.getAllObject);\n    }\n     onAfterSaveCell(row, cellName, cellValue) {\n        debugger;\n        sendEditCell(row, cellName, cellValue)\n\n    }\n    remote(remoteObj) {\n        remoteObj.sort=true;\n        remoteObj.filter=true;\n        return remoteObj;\n    }\n    onRowSelect(row, isSelected, e) {\n        debugger;\n        if(isSelected) {\n            this.setState(({selectedRow}) => ({\n                selectedRow: new Set(selectedRow).add(row)\n            }));\n        }\n        else{\n            if(this.state.selectedRow.size<=1){\n                this.setState(({selectedRow}) => ({\n                    selectedRow: new Set()\n                }));\n            }else {\n                new Set(this.state.selectedRow).delete(row);\n                this.setState(({selectedRow}) => ({\n                    selectedRow: new Set(this.state.selectedRow)\n                }));\n            }\n        }\n\n    }\n\n    render(){\n        const options = {\n            hideSizePerPage: true,\n            sizePerPage: 5,\n            deleteBtn: this.createCustomDeleteButton,\n            insertBtn: this.createCustomInsertButton,\n            onSortChange: this.onSortChange,\n            onFilterChange: this.onFilterChange,\n            afterDeleteRow: onAfterDeleteRow,// A hook for after insert rows\n        };\n        const selectRowProp = {\n            mode: 'checkbox',\n            columnWidth: '2%',\n            onSelect: this.onRowSelect,\n        };\n        const cellEditProp = {\n            mode: 'dbclick', // 'dbclick' for trigger by double-click\n            afterSaveCell: sendEditCell,\n            blurToSave: true\n        }\n\n\n        const currentPage=Math.ceil(this.state.allSizeList/this.state.sizePage);\n        debugger;\n        return (\n                <div>\n                <BootstrapTable\n                                remote\n                                data={this.state.data}\n                                dataField='id'\n                                tdStyle={ { whiteSpace: 'normal' } }\n                                insertRow\n                                cellEdit={cellEditProp}\n                                selectRow={ selectRowProp }\n                                deleteRow={ true }\n                                options={ options }\n                                striped\n                                hover\n                                containerClass='table'\n                                >\n                    <TableHeaderColumn isKey\n                                       dataSort\n                                       dataField='id'\n                                       headerAlign=\"left\"\n                                       width=\"1%\"\n                                       >\n                        ID\n                    </TableHeaderColumn>\n\n                    <TableHeaderColumn dataField='name'\n                                       dataSort\n                                       dataAlign='center'\n                                       headerAlign=\"center\"\n                                       width=\"4%\"\n                                       filter={ { type: 'TextFilter' } }\n                                       >\n                        Name\n                    </TableHeaderColumn>\n                    <TableHeaderColumn dataField='impactSpeed'\n                                       dataSort\n                                       filter={ { type: 'NumberFilter' } }\n                                       dataAlign='center'\n                                       headerAlign=\"center\"\n                                       width=\"5%\"\n\n                                       editable={ { type: 'number' } }>\n                        impactSpeed\n                    </TableHeaderColumn>\n                    <TableHeaderColumn dataField='weaponType'\n                                       dataSort\n                                       dataAlign='center'\n                                       headerAlign=\"center\"\n                                       width=\"5%\"\n                                       filter={ { type: 'SelectFilter', options: weaponType} }\n                                       editable={ { type: 'select', options: { values: weaponType } } }>\n                        weaponType\n                    </TableHeaderColumn>\n                    <TableHeaderColumn dataField='mood'\n                                       dataAlign='center'\n                                       headerAlign=\"center\"\n                                       width=\"5%\"\n                                       dataSort={ true }\n                                       filter={ { type: 'SelectFilter', options: mood} }\n                                       editable={ { type: 'select', options: { values: mood } } }>\n                        moodType\n                    </TableHeaderColumn>\n                    <TableHeaderColumn dataField='X'\n                                       dataAlign='center'\n                                       headerAlign=\"center\"\n                                       width=\"5%\"\n                                       dataSort\n                                       dataFormat={formatterX}\n                                       filter={ { type: 'NumberFilter' } }\n                                       editable={ { type: 'number' }} >\n                        x\n                    </TableHeaderColumn>\n                    <TableHeaderColumn dataField='Y'\n                                       dataAlign='center'\n                                       dataSort\n                                       headerAlign=\"center\"\n                                       width=\"5%\"\n                                       dataFormat={formatterY}\n                                       filter={ { type: 'NumberFilter' } }\n                                       editable={ { type: 'number' , options: { min: '0', max: '369' } } }>\n                        y\n                    </TableHeaderColumn>\n                    <TableHeaderColumn dataField='creationDate'\n                                       dataAlign='center'\n                                       dataSort\n                                       headerAlign=\"center\"\n                                       width=\"7%\"\n                                       filter={ { type: 'DateFilter' } }\n                                       editable={ { type: 'date'  }}>\n                        date\n\n                    </TableHeaderColumn>\n\n                    <TableHeaderColumn dataField='realHero'\n                                       dataSort\n                                       dataAlign='center'\n                                       headerAlign=\"center\"\n                                       width=\"2%\"\n                                       filter={ { type: 'SelectFilter', options: bool_val} }\n                                       editable={ { type: 'checkbox'  }}>\n                        R\n                    </TableHeaderColumn>\n                    <TableHeaderColumn dataField='car'\n                                       dataSort\n                                       dataAlign='center'\n                                       headerAlign=\"center\"\n                                       width=\"2%\"\n                                       dataFormat={formatterCar}\n                                       filter={ { type: 'SelectFilter', options: bool_val} }\n                                       editable={ { type: 'checkbox'  }}>\n                        C\n                    </TableHeaderColumn>\n                    <TableHeaderColumn dataField='team'\n                                       dataSort\n                                       dataAlign='center'\n                                       headerAlign=\"center\"\n                                       width=\"2%\"\n                                       dataFormat={formatterTeam}\n                                       >\n                        Team\n                    </TableHeaderColumn>\n\n\n                </BootstrapTable>\n                    <CNav className=\"background-nav justify-content-lg-between\">\n                        <CNavItem className=\" \">\n                                <input  name=\"sizePage\" type=\"number\" onKeyPress={this.handleKeyPress}   value={this.state.sizePage} onChange={this.handleChangeSizePage} />\n                        </CNavItem>\n                        <CNavItem className=\" \">\n                            <ReactPaginate\n                                previousLabel={\"← Previous\"}\n                                nextLabel={\"Next →\"}\n                                pageCount={currentPage}\n                                onPageChange={this.handlePageClick}\n                                containerClassName={\"pagination\"}\n                                previousLinkClassName={\"pagination__link\"}\n                                nextLinkClassName={\"pagination__link\"}\n                                disabledClassName={\"pagination__link--disabled\"}\n                                activeClassName={\"pagination__link--active\"}\n                            />\n                        </CNavItem>\n                    </CNav>\n                </div>\n        );\n    }\n\n    getAllObject() {\n        debugger;\n        let arr_filt=JSON.stringify(this.state.filter);\n        if(arr_filt==='[]')\n        if(arr_filt==='[]')\n            arr_filt=null;\n        debugger;\n        axios.get(path_server+\"humanBeings\", {\n            params:\n                {\n                    sizePage: this.state.sizePage,\n                    numberPage: this.state.currentPage,\n                    sortField:this.state.sort.nameField,\n                    isAsc:this.state.sort.isAscending,\n                    filters:arr_filt\n                },\n            paramsSerializer: params => {\n                return qs.stringify(params)\n            }})\n            .then(res => {\n                debugger;\n                const msg = res.data;\n                if(msg.code ===1){\n                    let k=msg.data;\n                    this.setState({data: k,allSizeList: msg.allSizeList});\n                }\n            }).catch(err => {\n            // what now?\n            debugger;\n            console.log(err);\n        });\n    }\n}\n\nexport default withRouter(Table);"]},"metadata":{},"sourceType":"module"}